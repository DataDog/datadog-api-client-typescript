{
  "log": {
    "_recordingName": "Synthetics/Create a TOTP global variable returns \"OK\" response",
    "creator": {
      "comment": "persister:fs",
      "name": "Polly.JS",
      "version": "6.0.5"
    },
    "entries": [
      {
        "_id": "4c41e93c8200cf547098876b47be7df7",
        "_order": 0,
        "cache": {},
        "request": {
          "bodySize": 4024,
          "cookies": [],
          "headers": [
            {
              "_fromType": "array",
              "name": "accept",
              "value": "application/json"
            },
            {
              "_fromType": "array",
              "name": "content-type",
              "value": "application/json"
            }
          ],
          "headersSize": 579,
          "httpVersion": "HTTP/1.1",
          "method": "POST",
          "postData": {
            "mimeType": "application/json",
            "params": [],
            "text": "{\"config\":{\"configVariables\":[{\"example\":\"content-type\",\"name\":\"PROPERTY\",\"pattern\":\"content-type\",\"type\":\"text\"}],\"steps\":[{\"allowFailure\":true,\"assertions\":[{\"operator\":\"is\",\"target\":200,\"type\":\"statusCode\"}],\"exitIfSucceed\":true,\"extractedValues\":[{\"field\":\"server\",\"name\":\"EXTRACTED_VALUE\",\"parser\":{\"type\":\"raw\"},\"secure\":true,\"type\":\"http_header\"}],\"extractedValuesFromScript\":\"dd.variable.set('STATUS_CODE', dd.response.statusCode);\",\"isCritical\":true,\"name\":\"request is sent\",\"request\":{\"httpVersion\":\"http2\",\"method\":\"GET\",\"timeout\":10,\"url\":\"https://datadoghq.com\"},\"retry\":{\"count\":5,\"interval\":1000},\"subtype\":\"http\"},{\"name\":\"Wait\",\"subtype\":\"wait\",\"value\":1},{\"allowFailure\":false,\"assertions\":[{\"operator\":\"lessThan\",\"target\":1000,\"type\":\"responseTime\"}],\"extractedValues\":[],\"isCritical\":true,\"name\":\"GRPC CALL\",\"request\":{\"callType\":\"unary\",\"compressedJsonDescriptor\":\"eJy1lU1z2yAQhv+Lzj74I3ETH506bQ7OZOSm1w4Wa4epBARQppqM/3v5koCJJdvtxCdW77vPssCO3zMKUgHOFu/ZXvBiS6hZho/f8qe7pftYgXphWJrlA8XwxywEvNba+6PhkC2yVcVVswYp0R6ykRYlZ1SCV21SDrxsssPIeS9FJKqGfK2rqnmmSBwhWa2XlKgtaQPiDcRGCUDVfwGD2sKUqKEtc1cSoOrsMlaMOec1sySYCCgUYRSVLv2zSva2u+FQkB0pVkIw8bFuIudOOn3pOaKYVT3Iy97Pd0AYhOx5QcMsnxvRHlnuLf8ETDd3CNtrv2nejkDpRnANCmGkkFn/hsYzpBKE7jVbufgnKnV9HRM9zRPDDKPttYT61n0TdWkAAjggk9AhuxIeaXd69CYTcsGw7cBTakLVbNpRzGEgyWjkSOpMbZXkhGL6oX30R49qt3GoHrap7i0XdD41WQ+2icCNm5p1hmFqnHNlcla0riKmDZ183crDxChjbnurtxHPRE784sVhWvDfGP+SsTKibU3o5NtWHuZFGZOxP6P5VXqIOvaOSec4eYohyd7NslHuJbd1bewds85xYrNxkr2d+5IhFWF3NvaO684xjE2S5ulY+tu64Pna0fCPJgzw6vF5/WucLcYjt5xoq19O3UDptOg/OamJQRaCcPPnMTQ2QDFn+uhPvUfnCrMc99upyQY4Ui9Dlc/YoG3R/v4Cs9YE+g==\",\"host\":\"grpcbin.test.k6.io\",\"message\":\"{}\",\"metadata\":{},\"method\":\"Index\",\"port\":9000,\"service\":\"grpcbin.GRPCBin\"},\"retry\":{\"count\":0,\"interval\":300},\"subtype\":\"grpc\"},{\"allowFailure\":false,\"assertions\":[{\"operator\":\"isInMoreThan\",\"target\":10,\"type\":\"certificate\"}],\"isCritical\":true,\"name\":\"SSL step\",\"request\":{\"checkCertificateRevocation\":true,\"host\":\"example.org\",\"port\":443},\"retry\":{\"count\":0,\"interval\":300},\"subtype\":\"ssl\"},{\"allowFailure\":false,\"assertions\":[{\"operator\":\"lessThan\",\"target\":1000,\"type\":\"responseTime\"}],\"isCritical\":true,\"name\":\"DNS step\",\"request\":{\"dnsServer\":\"8.8.8.8\",\"dnsServerPort\":\"53\",\"host\":\"troisdizaines.com\"},\"retry\":{\"count\":0,\"interval\":300},\"subtype\":\"dns\"},{\"allowFailure\":false,\"assertions\":[{\"operator\":\"lessThan\",\"target\":1000,\"type\":\"responseTime\"}],\"isCritical\":true,\"name\":\"TCP step\",\"request\":{\"host\":\"34.95.79.70\",\"port\":80,\"shouldTrackHops\":true,\"timeout\":32},\"retry\":{\"count\":0,\"interval\":300},\"subtype\":\"tcp\"},{\"allowFailure\":false,\"assertions\":[{\"operator\":\"is\",\"target\":0,\"type\":\"packetLossPercentage\"}],\"isCritical\":true,\"name\":\"ICMP step\",\"request\":{\"host\":\"34.95.79.70\",\"numberOfPackets\":4,\"shouldTrackHops\":true,\"timeout\":38},\"retry\":{\"count\":0,\"interval\":300},\"subtype\":\"icmp\"},{\"allowFailure\":false,\"assertions\":[{\"operator\":\"lessThan\",\"target\":1000,\"type\":\"responseTime\"}],\"isCritical\":true,\"name\":\"Websocket step\",\"request\":{\"basicAuth\":{\"password\":\"password\",\"type\":\"web\",\"username\":\"user\"},\"headers\":{\"f\":\"g\"},\"isMessageBase64Encoded\":true,\"message\":\"My message\",\"url\":\"ws://34.95.79.70/web-socket\"},\"retry\":{\"count\":0,\"interval\":300},\"subtype\":\"websocket\"},{\"allowFailure\":false,\"assertions\":[{\"operator\":\"lessThan\",\"target\":1000,\"type\":\"responseTime\"}],\"isCritical\":true,\"name\":\"UDP step\",\"request\":{\"host\":\"8.8.8.8\",\"message\":\"A image.google.com\",\"port\":53},\"retry\":{\"count\":0,\"interval\":300},\"subtype\":\"udp\"}]},\"locations\":[\"aws:us-east-2\"],\"message\":\"BDD test payload: synthetics_api_test_multi_step_payload.json\",\"name\":\"Test-Create_a_TOTP_global_variable_returns_OK_response-1748873142\",\"options\":{\"accept_self_signed\":false,\"allow_insecure\":true,\"follow_redirects\":true,\"min_failure_duration\":10,\"min_location_failed\":1,\"monitor_name\":\"Test-Create_a_TOTP_global_variable_returns_OK_response-1748873142\",\"monitor_priority\":5,\"retry\":{\"count\":3,\"interval\":1000},\"tick_every\":60},\"subtype\":\"multi\",\"tags\":[\"testing:api\"],\"type\":\"api\"}"
          },
          "queryString": [],
          "url": "https://api.datadoghq.com/api/v1/synthetics/tests/api"
        },
        "response": {
          "bodySize": 4569,
          "content": {
            "mimeType": "application/json",
            "size": 4569,
            "text": "{\"public_id\":\"rvj-43h-5zv\",\"name\":\"Test-Create_a_TOTP_global_variable_returns_OK_response-1748873142\",\"status\":\"live\",\"type\":\"api\",\"subtype\":\"multi\",\"tags\":[\"testing:api\"],\"created_at\":\"2025-06-02T14:05:43.614434+00:00\",\"modified_at\":\"2025-06-02T14:05:43.614434+00:00\",\"config\":{\"configVariables\":[{\"example\":\"content-type\",\"name\":\"PROPERTY\",\"pattern\":\"content-type\",\"type\":\"text\"}],\"steps\":[{\"allowFailure\":true,\"assertions\":[{\"operator\":\"is\",\"target\":200,\"type\":\"statusCode\"}],\"exitIfSucceed\":true,\"extractedValues\":[{\"field\":\"server\",\"name\":\"EXTRACTED_VALUE\",\"parser\":{\"type\":\"raw\"},\"secure\":true,\"type\":\"http_header\"}],\"extractedValuesFromScript\":\"dd.variable.set('STATUS_CODE', dd.response.statusCode);\",\"isCritical\":true,\"name\":\"request is sent\",\"request\":{\"httpVersion\":\"http2\",\"method\":\"GET\",\"timeout\":10,\"url\":\"https://datadoghq.com\"},\"retry\":{\"count\":5,\"interval\":1000},\"subtype\":\"http\",\"id\":\"hmq-tvi-gud\"},{\"name\":\"Wait\",\"subtype\":\"wait\",\"value\":1,\"id\":\"6ce-ark-rtb\"},{\"allowFailure\":false,\"assertions\":[{\"operator\":\"lessThan\",\"target\":1000,\"type\":\"responseTime\"}],\"extractedValues\":[],\"isCritical\":true,\"name\":\"GRPC CALL\",\"request\":{\"callType\":\"unary\",\"compressedJsonDescriptor\":\"eJy1lU1z2yAQhv+Lzj74I3ETH506bQ7OZOSm1w4Wa4epBARQppqM/3v5koCJJdvtxCdW77vPssCO3zMKUgHOFu/ZXvBiS6hZho/f8qe7pftYgXphWJrlA8XwxywEvNba+6PhkC2yVcVVswYp0R6ykRYlZ1SCV21SDrxsssPIeS9FJKqGfK2rqnmmSBwhWa2XlKgtaQPiDcRGCUDVfwGD2sKUqKEtc1cSoOrsMlaMOec1sySYCCgUYRSVLv2zSva2u+FQkB0pVkIw8bFuIudOOn3pOaKYVT3Iy97Pd0AYhOx5QcMsnxvRHlnuLf8ETDd3CNtrv2nejkDpRnANCmGkkFn/hsYzpBKE7jVbufgnKnV9HRM9zRPDDKPttYT61n0TdWkAAjggk9AhuxIeaXd69CYTcsGw7cBTakLVbNpRzGEgyWjkSOpMbZXkhGL6oX30R49qt3GoHrap7i0XdD41WQ+2icCNm5p1hmFqnHNlcla0riKmDZ183crDxChjbnurtxHPRE784sVhWvDfGP+SsTKibU3o5NtWHuZFGZOxP6P5VXqIOvaOSec4eYohyd7NslHuJbd1bewds85xYrNxkr2d+5IhFWF3NvaO684xjE2S5ulY+tu64Pna0fCPJgzw6vF5/WucLcYjt5xoq19O3UDptOg/OamJQRaCcPPnMTQ2QDFn+uhPvUfnCrMc99upyQY4Ui9Dlc/YoG3R/v4Cs9YE+g==\",\"host\":\"grpcbin.test.k6.io\",\"message\":\"{}\",\"metadata\":{},\"method\":\"Index\",\"port\":9000,\"service\":\"grpcbin.GRPCBin\"},\"retry\":{\"count\":0,\"interval\":300},\"subtype\":\"grpc\",\"id\":\"c3r-2wg-dag\"},{\"allowFailure\":false,\"assertions\":[{\"operator\":\"isInMoreThan\",\"target\":10,\"type\":\"certificate\"}],\"isCritical\":true,\"name\":\"SSL step\",\"request\":{\"checkCertificateRevocation\":true,\"host\":\"example.org\",\"port\":443},\"retry\":{\"count\":0,\"interval\":300},\"subtype\":\"ssl\",\"id\":\"aaq-vgm-28b\"},{\"allowFailure\":false,\"assertions\":[{\"operator\":\"lessThan\",\"target\":1000,\"type\":\"responseTime\"}],\"isCritical\":true,\"name\":\"DNS step\",\"request\":{\"dnsServer\":\"8.8.8.8\",\"dnsServerPort\":\"53\",\"host\":\"troisdizaines.com\"},\"retry\":{\"count\":0,\"interval\":300},\"subtype\":\"dns\",\"id\":\"n2p-m48-cyq\"},{\"allowFailure\":false,\"assertions\":[{\"operator\":\"lessThan\",\"target\":1000,\"type\":\"responseTime\"}],\"isCritical\":true,\"name\":\"TCP step\",\"request\":{\"host\":\"34.95.79.70\",\"port\":80,\"shouldTrackHops\":true,\"timeout\":32},\"retry\":{\"count\":0,\"interval\":300},\"subtype\":\"tcp\",\"id\":\"b94-35d-5ig\"},{\"allowFailure\":false,\"assertions\":[{\"operator\":\"is\",\"target\":0,\"type\":\"packetLossPercentage\"}],\"isCritical\":true,\"name\":\"ICMP step\",\"request\":{\"host\":\"34.95.79.70\",\"numberOfPackets\":4,\"shouldTrackHops\":true,\"timeout\":38},\"retry\":{\"count\":0,\"interval\":300},\"subtype\":\"icmp\",\"id\":\"6bj-7tj-cmw\"},{\"allowFailure\":false,\"assertions\":[{\"operator\":\"lessThan\",\"target\":1000,\"type\":\"responseTime\"}],\"isCritical\":true,\"name\":\"Websocket step\",\"request\":{\"basicAuth\":{\"password\":\"password\",\"type\":\"web\",\"username\":\"user\"},\"headers\":{\"f\":\"g\"},\"isMessageBase64Encoded\":true,\"message\":\"My message\",\"url\":\"ws://34.95.79.70/web-socket\"},\"retry\":{\"count\":0,\"interval\":300},\"subtype\":\"websocket\",\"id\":\"xxg-ngd-hds\"},{\"allowFailure\":false,\"assertions\":[{\"operator\":\"lessThan\",\"target\":1000,\"type\":\"responseTime\"}],\"isCritical\":true,\"name\":\"UDP step\",\"request\":{\"host\":\"8.8.8.8\",\"message\":\"A image.google.com\",\"port\":53},\"retry\":{\"count\":0,\"interval\":300},\"subtype\":\"udp\",\"id\":\"irv-quv-d2f\"}]},\"message\":\"BDD test payload: synthetics_api_test_multi_step_payload.json\",\"options\":{\"accept_self_signed\":false,\"allow_insecure\":true,\"follow_redirects\":true,\"min_failure_duration\":10,\"min_location_failed\":1,\"monitor_name\":\"Test-Create_a_TOTP_global_variable_returns_OK_response-1748873142\",\"monitor_priority\":5,\"retry\":{\"count\":3,\"interval\":1000},\"tick_every\":60},\"locations\":[\"aws:us-east-2\"],\"created_by\":{\"name\":\"frog\",\"handle\":\"frog@datadoghq.com\",\"email\":\"frog@datadoghq.com\"},\"deleted_at\":null,\"monitor_id\":173873648,\"org_id\":321813,\"modified_by\":{\"name\":\"frog\",\"handle\":\"frog@datadoghq.com\",\"email\":\"frog@datadoghq.com\"}}"
          },
          "cookies": [],
          "headers": [
            {
              "name": "content-type",
              "value": "application/json"
            }
          ],
          "headersSize": 694,
          "httpVersion": "HTTP/1.1",
          "redirectURL": "",
          "status": 200,
          "statusText": "OK"
        },
        "startedDateTime": "2025-06-02T14:05:42.425Z",
        "time": 1238
      },
      {
        "_id": "b45a35bf9e5d6fff96cd59f596be4b52",
        "_order": 0,
        "cache": {},
        "request": {
          "bodySize": 239,
          "cookies": [],
          "headers": [
            {
              "_fromType": "array",
              "name": "accept",
              "value": "application/json"
            },
            {
              "_fromType": "array",
              "name": "content-type",
              "value": "application/json"
            }
          ],
          "headersSize": 575,
          "httpVersion": "HTTP/1.1",
          "method": "POST",
          "postData": {
            "mimeType": "application/json",
            "params": [],
            "text": "{\"description\":\"\",\"is_totp\":true,\"name\":\"GLOBAL_VARIABLE_TOTP_PAYLOAD_TESTCREATEATOTPGLOBALVARIABLERETURNSOKRESPONSE1748873142\",\"tags\":[],\"value\":{\"options\":{\"totp_parameters\":{\"digits\":6,\"refresh_interval\":30}},\"secure\":false,\"value\":\"\"}}"
          },
          "queryString": [],
          "url": "https://api.datadoghq.com/api/v1/synthetics/variables"
        },
        "response": {
          "bodySize": 320,
          "content": {
            "mimeType": "application/json",
            "size": 320,
            "text": "{\"id\":\"6243bf46-c2da-4411-ae6e-11a2f6499106\",\"name\":\"GLOBAL_VARIABLE_TOTP_PAYLOAD_TESTCREATEATOTPGLOBALVARIABLERETURNSOKRESPONSE1748873142\",\"description\":\"\",\"type\":\"variable\",\"tags\":[],\"last_error\":null,\"is_totp\":true,\"value\":{\"options\":{\"totp_parameters\":{\"digits\":6,\"refresh_interval\":30}},\"secure\":false,\"value\":\"\"}}\n"
          },
          "cookies": [],
          "headers": [
            {
              "name": "content-type",
              "value": "application/json"
            }
          ],
          "headersSize": 697,
          "httpVersion": "HTTP/1.1",
          "redirectURL": "",
          "status": 200,
          "statusText": "OK"
        },
        "startedDateTime": "2025-06-02T14:05:43.671Z",
        "time": 458
      },
      {
        "_id": "cf8aaaf41db907f9b3d7b75b2a283031",
        "_order": 0,
        "cache": {},
        "request": {
          "bodySize": 0,
          "cookies": [],
          "headers": [
            {
              "_fromType": "array",
              "name": "accept",
              "value": "*/*"
            }
          ],
          "headersSize": 548,
          "httpVersion": "HTTP/1.1",
          "method": "DELETE",
          "queryString": [],
          "url": "https://api.datadoghq.com/api/v1/synthetics/variables/6243bf46-c2da-4411-ae6e-11a2f6499106"
        },
        "response": {
          "bodySize": 0,
          "content": {
            "mimeType": "text/html; charset=utf-8",
            "size": 0
          },
          "cookies": [],
          "headers": [
            {
              "name": "content-type",
              "value": "text/html; charset=utf-8"
            }
          ],
          "headersSize": 680,
          "httpVersion": "HTTP/1.1",
          "redirectURL": "",
          "status": 200,
          "statusText": "OK"
        },
        "startedDateTime": "2025-06-02T14:05:44.135Z",
        "time": 478
      },
      {
        "_id": "891d9388c623ecafb8c7da5266947486",
        "_order": 0,
        "cache": {},
        "request": {
          "bodySize": 30,
          "cookies": [],
          "headers": [
            {
              "_fromType": "array",
              "name": "accept",
              "value": "application/json"
            },
            {
              "_fromType": "array",
              "name": "content-type",
              "value": "application/json"
            }
          ],
          "headersSize": 568,
          "httpVersion": "HTTP/1.1",
          "method": "POST",
          "postData": {
            "mimeType": "application/json",
            "params": [],
            "text": "{\"public_ids\":[\"rvj-43h-5zv\"]}"
          },
          "queryString": [],
          "url": "https://api.datadoghq.com/api/v1/synthetics/tests/delete"
        },
        "response": {
          "bodySize": 96,
          "content": {
            "mimeType": "application/json",
            "size": 96,
            "text": "{\"deleted_tests\":[{\"public_id\":\"rvj-43h-5zv\",\"deleted_at\":\"2025-06-02T14:05:45.464641+00:00\"}]}\n"
          },
          "cookies": [],
          "headers": [
            {
              "name": "content-type",
              "value": "application/json"
            }
          ],
          "headersSize": 693,
          "httpVersion": "HTTP/1.1",
          "redirectURL": "",
          "status": 200,
          "statusText": "OK"
        },
        "startedDateTime": "2025-06-02T14:05:44.617Z",
        "time": 969
      }
    ],
    "pages": [],
    "version": "1.2"
  }
}
