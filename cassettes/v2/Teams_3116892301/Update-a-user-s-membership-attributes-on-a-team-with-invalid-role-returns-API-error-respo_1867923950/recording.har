{
  "log": {
    "_recordingName": "Teams/Update a user's membership attributes on a team with invalid role returns \"API error response.\" response",
    "creator": {
      "comment": "persister:fs",
      "name": "Polly.JS",
      "version": "6.0.5"
    },
    "entries": [
      {
        "_id": "624fb76ecc67c8b2b0e7dffd1c43f761",
        "_order": 0,
        "cache": {},
        "request": {
          "bodySize": 115,
          "cookies": [],
          "headers": [
            {
              "_fromType": "array",
              "name": "accept",
              "value": "application/json"
            },
            {
              "_fromType": "array",
              "name": "content-type",
              "value": "application/json"
            }
          ],
          "headersSize": 549,
          "httpVersion": "HTTP/1.1",
          "method": "POST",
          "postData": {
            "mimeType": "application/json",
            "params": [],
            "text": "{\"data\":{\"attributes\":{\"handle\":\"test-handle-ff2b53b6514455c7\",\"name\":\"test-name-ff2b53b6514455c7\"},\"type\":\"team\"}}"
          },
          "queryString": [],
          "url": "https://api.datadoghq.com/api/v2/team"
        },
        "response": {
          "bodySize": 660,
          "content": {
            "mimeType": "application/vnd.api+json",
            "size": 660,
            "text": "{\"data\":{\"id\":\"9c2a3be7-8a43-4f37-bc3d-88248875f867\",\"type\":\"team\",\"attributes\":{\"avatar\":null,\"banner\":3,\"created_at\":\"2026-02-12T15:00:05.867555+00:00\",\"description\":null,\"handle\":\"test-handle-ff2b53b6514455c7\",\"hidden_modules\":null,\"is_managed\":false,\"link_count\":0,\"modified_at\":\"2026-02-12T15:00:05.867555+00:00\",\"name\":\"test-name-ff2b53b6514455c7\",\"summary\":null,\"user_count\":0,\"visible_modules\":null},\"relationships\":{\"team_links\":{\"data\":[],\"links\":{\"related\":\"/api/v2/team/9c2a3be7-8a43-4f37-bc3d-88248875f867/links\"}},\"user_team_permissions\":{\"data\":null,\"links\":{\"related\":\"/api/v2/team/9c2a3be7-8a43-4f37-bc3d-88248875f867/permission-settings\"}}}}}"
          },
          "cookies": [],
          "headers": [
            {
              "name": "content-type",
              "value": "application/vnd.api+json"
            }
          ],
          "headersSize": 662,
          "httpVersion": "HTTP/1.1",
          "redirectURL": "",
          "status": 201,
          "statusText": "Created"
        },
        "startedDateTime": "2026-02-12T15:00:05.360Z",
        "time": 568
      },
      {
        "_id": "1dcc6da7bcccb21a616c31870872f12e",
        "_order": 0,
        "cache": {},
        "request": {
          "bodySize": 202,
          "cookies": [],
          "headers": [
            {
              "_fromType": "array",
              "name": "accept",
              "value": "application/json"
            },
            {
              "_fromType": "array",
              "name": "content-type",
              "value": "application/json"
            }
          ],
          "headersSize": 550,
          "httpVersion": "HTTP/1.1",
          "method": "POST",
          "postData": {
            "mimeType": "application/json",
            "params": [],
            "text": "{\"data\":{\"attributes\":{\"email\":\"Test-Update_a_user_s_membership_attributes_on_a_team_with_invalid_role_returns_API_error_response_respons-1770908405@datadoghq.com\",\"title\":\"user title\"},\"type\":\"users\"}}"
          },
          "queryString": [],
          "url": "https://api.datadoghq.com/api/v2/users"
        },
        "response": {
          "bodySize": 828,
          "content": {
            "mimeType": "application/json",
            "size": 828,
            "text": "{\"data\":{\"type\":\"users\",\"id\":\"eed29272-352e-4bf8-ab48-ad007a1f7179\",\"attributes\":{\"name\":null,\"handle\":\"test-update_a_user_s_membership_attributes_on_a_team_with_invalid_role_returns_api_error_response_respons-1770908405@datadoghq.com\",\"created_at\":\"2026-02-12T15:00:06.429855+00:00\",\"modified_at\":\"2026-02-12T15:00:06.429855+00:00\",\"email\":\"test-update_a_user_s_membership_attributes_on_a_team_with_invalid_role_returns_api_error_response_respons-1770908405@datadoghq.com\",\"icon\":\"https://secure.gravatar.com/avatar/1a5d1f711a7790783032ea8e4653d473?s=48&d=retro\",\"title\":\"user title\",\"verified\":false,\"service_account\":false,\"disabled\":false,\"allowed_login_methods\":[],\"status\":\"Pending\",\"last_login_time\":null},\"relationships\":{\"roles\":{\"data\":[]},\"org\":{\"data\":{\"type\":\"orgs\",\"id\":\"4dee724d-00cc-11ea-a77b-570c9d03c6c5\"}}}}}\n"
          },
          "cookies": [],
          "headers": [
            {
              "name": "content-type",
              "value": "application/json"
            }
          ],
          "headersSize": 681,
          "httpVersion": "HTTP/1.1",
          "redirectURL": "",
          "status": 201,
          "statusText": "Created"
        },
        "startedDateTime": "2026-02-12T15:00:05.936Z",
        "time": 553
      },
      {
        "_id": "d423c6810174009888612d9a8da82d14",
        "_order": 0,
        "cache": {},
        "request": {
          "bodySize": 161,
          "cookies": [],
          "headers": [
            {
              "_fromType": "array",
              "name": "accept",
              "value": "application/json"
            },
            {
              "_fromType": "array",
              "name": "content-type",
              "value": "application/json"
            }
          ],
          "headersSize": 608,
          "httpVersion": "HTTP/1.1",
          "method": "POST",
          "postData": {
            "mimeType": "application/json",
            "params": [],
            "text": "{\"data\":{\"attributes\":{\"role\":\"admin\"},\"relationships\":{\"user\":{\"data\":{\"id\":\"eed29272-352e-4bf8-ab48-ad007a1f7179\",\"type\":\"users\"}}},\"type\":\"team_memberships\"}}"
          },
          "queryString": [],
          "url": "https://api.datadoghq.com/api/v2/team/9c2a3be7-8a43-4f37-bc3d-88248875f867/memberships"
        },
        "response": {
          "bodySize": 849,
          "content": {
            "mimeType": "application/vnd.api+json",
            "size": 849,
            "text": "{\"data\":{\"id\":\"TeamMembership-9c2a3be7-8a43-4f37-bc3d-88248875f867-65393607\",\"type\":\"team_memberships\",\"attributes\":{\"provisioned_by\":null,\"provisioned_by_id\":\"3ad549bf-eba0-11e9-a77a-0705486660d0\",\"role\":\"admin\"},\"relationships\":{\"user\":{\"data\":{\"id\":\"eed29272-352e-4bf8-ab48-ad007a1f7179\",\"type\":\"users\"}}}},\"included\":[{\"id\":\"eed29272-352e-4bf8-ab48-ad007a1f7179\",\"type\":\"users\",\"attributes\":{\"disabled\":false,\"email\":\"test-update_a_user_s_membership_attributes_on_a_team_with_invalid_role_returns_api_error_response_respons-1770908405@datadoghq.com\",\"handle\":\"test-update_a_user_s_membership_attributes_on_a_team_with_invalid_role_returns_api_error_response_respons-1770908405@datadoghq.com\",\"icon\":\"https://secure.gravatar.com/avatar/1a5d1f711a7790783032ea8e4653d473?d=retro\\u0026s=48\",\"name\":null,\"service_account\":false,\"status\":\"Pending\"}}]}"
          },
          "cookies": [],
          "headers": [
            {
              "name": "content-type",
              "value": "application/vnd.api+json"
            }
          ],
          "headersSize": 662,
          "httpVersion": "HTTP/1.1",
          "redirectURL": "",
          "status": 200,
          "statusText": "OK"
        },
        "startedDateTime": "2026-02-12T15:00:06.494Z",
        "time": 234
      },
      {
        "_id": "d602fc518ab32a9efbb9015988f0760f",
        "_order": 0,
        "cache": {},
        "request": {
          "bodySize": 67,
          "cookies": [],
          "headers": [
            {
              "_fromType": "array",
              "name": "accept",
              "value": "application/json"
            },
            {
              "_fromType": "array",
              "name": "content-type",
              "value": "application/json"
            }
          ],
          "headersSize": 645,
          "httpVersion": "HTTP/1.1",
          "method": "PATCH",
          "postData": {
            "mimeType": "application/json",
            "params": [],
            "text": "{\"data\":{\"attributes\":{\"role\":\"member\"},\"type\":\"team_memberships\"}}"
          },
          "queryString": [],
          "url": "https://api.datadoghq.com/api/v2/team/9c2a3be7-8a43-4f37-bc3d-88248875f867/memberships/eed29272-352e-4bf8-ab48-ad007a1f7179"
        },
        "response": {
          "bodySize": 110,
          "content": {
            "mimeType": "application/json",
            "size": 110,
            "text": "{\"errors\":[\"{'errors': [{'detail': 'Not a valid choice.', 'source': {'pointer': '/data/attributes/role'}}]}\"]}"
          },
          "cookies": [],
          "headers": [
            {
              "name": "content-type",
              "value": "application/json"
            }
          ],
          "headersSize": 685,
          "httpVersion": "HTTP/1.1",
          "redirectURL": "",
          "status": 400,
          "statusText": "Bad Request"
        },
        "startedDateTime": "2026-02-12T15:00:06.737Z",
        "time": 555
      },
      {
        "_id": "4fdf4c05696ae3cb53740ef3a210b35d",
        "_order": 0,
        "cache": {},
        "request": {
          "bodySize": 0,
          "cookies": [],
          "headers": [
            {
              "_fromType": "array",
              "name": "accept",
              "value": "*/*"
            }
          ],
          "headersSize": 581,
          "httpVersion": "HTTP/1.1",
          "method": "DELETE",
          "queryString": [],
          "url": "https://api.datadoghq.com/api/v2/team/9c2a3be7-8a43-4f37-bc3d-88248875f867/memberships/eed29272-352e-4bf8-ab48-ad007a1f7179"
        },
        "response": {
          "bodySize": 0,
          "content": {
            "mimeType": "text/plain",
            "size": 0
          },
          "cookies": [],
          "headers": [],
          "headersSize": 632,
          "httpVersion": "HTTP/1.1",
          "redirectURL": "",
          "status": 204,
          "statusText": "No Content"
        },
        "startedDateTime": "2026-02-12T15:00:07.302Z",
        "time": 584
      },
      {
        "_id": "403df4d25f577e4a2b80f11163b932e7",
        "_order": 0,
        "cache": {},
        "request": {
          "bodySize": 0,
          "cookies": [],
          "headers": [
            {
              "_fromType": "array",
              "name": "accept",
              "value": "*/*"
            }
          ],
          "headersSize": 524,
          "httpVersion": "HTTP/1.1",
          "method": "DELETE",
          "queryString": [],
          "url": "https://api.datadoghq.com/api/v2/users/eed29272-352e-4bf8-ab48-ad007a1f7179"
        },
        "response": {
          "bodySize": 0,
          "content": {
            "mimeType": "text/plain",
            "size": 0
          },
          "cookies": [],
          "headers": [],
          "headersSize": 495,
          "httpVersion": "HTTP/1.1",
          "redirectURL": "",
          "status": 204,
          "statusText": "No Content"
        },
        "startedDateTime": "2026-02-12T15:00:07.890Z",
        "time": 624
      },
      {
        "_id": "27e0cacbf36a628fc3391b03459fcd05",
        "_order": 0,
        "cache": {},
        "request": {
          "bodySize": 0,
          "cookies": [],
          "headers": [
            {
              "_fromType": "array",
              "name": "accept",
              "value": "*/*"
            }
          ],
          "headersSize": 522,
          "httpVersion": "HTTP/1.1",
          "method": "DELETE",
          "queryString": [],
          "url": "https://api.datadoghq.com/api/v2/team/9c2a3be7-8a43-4f37-bc3d-88248875f867"
        },
        "response": {
          "bodySize": 0,
          "content": {
            "mimeType": "text/plain",
            "size": 0
          },
          "cookies": [],
          "headers": [],
          "headersSize": 632,
          "httpVersion": "HTTP/1.1",
          "redirectURL": "",
          "status": 204,
          "statusText": "No Content"
        },
        "startedDateTime": "2026-02-12T15:00:08.517Z",
        "time": 656
      }
    ],
    "pages": [],
    "version": "1.2"
  }
}
